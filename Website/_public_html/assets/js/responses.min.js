/*
# ---------------------- #
# Developed by Volkertek #
# All rights reserved    #
# ---------------------- #
*/
// --------------------------------------------------
function modalResponse(){if(!$('.modal').length){$('body').append('<div class="modal fade" tabindex="-1"><div class="modal-dialog modal-dialog-centered"><div class="modal-content"><div class="modal-body p-4 d-flex align-items-center"><div class="response-icon fs-2"></div><div class="response-status ms-4"></div></div></div></div></div>')}};
// --------------------------------------------------
$('[data-response]').on('submit',function(e){e.preventDefault();const data=new FormData(this);$.ajax({type:'post',url:$(this).data('action'),data:data,cache:false,contentType:false,processData:false,beforeSend:function(){$(this).find(':input').prop('disabled',true);modalResponse();$('.modal .modal-body .response-icon').html('<i class="fa-solid fa-spinner fa-spin fa-fw text-primary"></i>');$('.modal .modal-body .response-status').html('Por favor, aguarde<br>Processando...');$('.modal').modal('show')},complete:function(){$(this).find(':input').prop('disabled',false)}}).done(function(responseDone){var obj=JSON.parse(responseDone);$('.modal .modal-body .response-icon').html(obj.responseIcon);$('.modal .modal-body .response-status').html(obj.responseStatus);setTimeout(function(){location.reload()},2000)}).fail(function(responseFail){var obj=JSON.parse(responseFail.responseText);$('.modal .modal-body .response-icon').html(obj.responseIcon);if(obj.responseStatus!==''){$('.modal .modal-body .response-status').html(obj.responseStatus)}else{$('.modal .modal-body .response-status').html('Houve um erro desconhecido')}})});
// --------------------------------------------------